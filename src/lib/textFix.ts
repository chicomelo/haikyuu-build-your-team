export function fixMojibake(input?: string | null): string {
  if (!input) return '';
  let out = input;
  const reps: [RegExp, string][] = [
    [/Ã¡/g, 'á'], [/Ã /g, 'à'], [/Ã£/g, 'ã'], [/Ã¢/g, 'â'], [/Ã¤/g, 'ä'],
    [/Ã©/g, 'é'], [/Ã¨/g, 'è'], [/Ãª/g, 'ê'], [/Ã«/g, 'ë'],
    [/Ã­/g, 'í'], [/Ã¬/g, 'ì'], [/Ã®/g, 'î'], [/Ã¯/g, 'ï'],
    [/Ã³/g, 'ó'], [/Ã²/g, 'ò'], [/Ã´/g, 'ô'], [/Ã¶/g, 'ö'], [/Ãµ/g, 'õ'],
    [/Ãº/g, 'ú'], [/Ã¹/g, 'ù'], [/Ã»/g, 'û'], [/Ã¼/g, 'ü'],
    [/Ã§/g, 'ç'], [/Ã±/g, 'ñ'],
    [/Ã�/g, 'Á'], [/Ã€/g, 'À'], [/Ãƒ/g, 'Ã'], [/Ã‚/g, 'Â'], [/Ã„/g, 'Ä'],
    [/Ã‰/g, 'É'], [/Ãˆ/ig, 'È'], [/ÃŠ/ig, 'Ê'], [/Ã‹/ig, 'Ë'],
    [/Ã�/ig, 'Í'], [/ÃŒ/ig, 'Ì'], [/ÃŽ/ig, 'Î'], [/Ã�/ig, 'Ï'],
    [/Ã“/ig, 'Ó'], [/Ã’/ig, 'Ò'], [/Ã”/ig, 'Ô'], [/Ã–/ig, 'Ö'],
    [/Ãš/ig, 'Ú'], [/Ã™/ig, 'Ù'], [/Ã›/ig, 'Û'], [/Ãœ/ig, 'Ü'],
    [/Ã‡/ig, 'Ç'], [/Ã‘/ig, 'Ñ'],
    [/Â /g, ' '], [/Â/g, ''],
    [/â€“/g, '–'], [/â€”/g, '—'], [/â€œ/g, '“'], [/â€/g, '”'], [/â€˜/g, '‘'], [/â€™/g, '’'], [/â€¦/g, '…'],
    // raros no dataset
    [/Ǧ/g, 'ê'], [/ǭ/g, 'á'], [/Ǹ/g, 'é'], [/ǽ/g, 'â'], [/ǜ/g, 'ã']
  ];
  for (const [re, rep] of reps) out = out.replace(re, rep);
  return out;
}
